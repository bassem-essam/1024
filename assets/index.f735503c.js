(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const Ue=6,j=4;function y(e,t){this.x=e,this.y=t}y.prototype.add=function(e){return new y(this.x+e.x,this.y+e.y)};y.prototype.sub=function(e){return new y(this.x-e.x,this.y-e.y)};y.prototype.toString=function(){return`Vector (${this.x}, ${this.y})`};y.prototype.reverse=function(){return new y(this.y,this.x)};function q(e){return e.x>=0&&e.x<j&&e.y>=0&&e.y<j}function pe(e){let t=["#1880F2","#19C1FC","#22E6E6","#19FCBC","#18F277","#0BDB2A","#33F90C","#9cb30c","#E6D80B","#FED70D","#E8AA00"],r=Math.log2(e);return t[r]}function $(e){return e*Ue+(e+1)*1+"rem"}function We(e,t,r){e/=255,t/=255,r/=255;var i=Math.max(e,t,r),n=Math.min(e,t,r),o,s,l=(i+n)/2;if(i==n)o=s=0;else{var a=i-n;switch(s=l>.5?a/(2-i-n):a/(i+n),i){case e:o=(t-r)/a+(t<r?6:0);break;case t:o=(r-e)/a+2;break;case r:o=(e-t)/a+4;break}o/=6}return[o,s,l]}var ke={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},ne={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},$e=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Z={CSS:{},springs:{}};function I(e,t,r){return Math.min(Math.max(e,t),r)}function U(e,t){return e.indexOf(t)>-1}function ee(e,t){return e.apply(null,t)}var f={arr:function(e){return Array.isArray(e)},obj:function(e){return U(Object.prototype.toString.call(e),"Object")},pth:function(e){return f.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||f.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return f.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return f.hex(e)||f.rgb(e)||f.hsl(e)},key:function(e){return!ke.hasOwnProperty(e)&&!ne.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function Pe(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(r){return parseFloat(r)}):[]}function Ee(e,t){var r=Pe(e),i=I(f.und(r[0])?1:r[0],.1,100),n=I(f.und(r[1])?100:r[1],.1,100),o=I(f.und(r[2])?10:r[2],.1,100),s=I(f.und(r[3])?0:r[3],.1,100),l=Math.sqrt(n/i),a=o/(2*Math.sqrt(n*i)),v=a<1?l*Math.sqrt(1-a*a):0,u=1,c=a<1?(a*l+-s)/v:-s+l;function p(g){var d=t?t*g/1e3:g;return a<1?d=Math.exp(-d*a*l)*(u*Math.cos(v*d)+c*Math.sin(v*d)):d=(u+c*d)*Math.exp(-d*l),g===0||g===1?g:1-d}function b(){var g=Z.springs[e];if(g)return g;for(var d=1/6,x=0,M=0;;)if(x+=d,p(x)===1){if(M++,M>=16)break}else M=0;var m=x*d*1e3;return Z.springs[e]=m,m}return t?p:b}function Qe(e){return e===void 0&&(e=10),function(t){return Math.ceil(I(t,1e-6,1)*e)*(1/e)}}var Ze=function(){var e=11,t=1/(e-1);function r(u,c){return 1-3*c+3*u}function i(u,c){return 3*c-6*u}function n(u){return 3*u}function o(u,c,p){return((r(c,p)*u+i(c,p))*u+n(c))*u}function s(u,c,p){return 3*r(c,p)*u*u+2*i(c,p)*u+n(c)}function l(u,c,p,b,g){var d,x,M=0;do x=c+(p-c)/2,d=o(x,b,g)-u,d>0?p=x:c=x;while(Math.abs(d)>1e-7&&++M<10);return x}function a(u,c,p,b){for(var g=0;g<4;++g){var d=s(c,p,b);if(d===0)return c;var x=o(c,p,b)-u;c-=x/d}return c}function v(u,c,p,b){if(!(0<=u&&u<=1&&0<=p&&p<=1))return;var g=new Float32Array(e);if(u!==c||p!==b)for(var d=0;d<e;++d)g[d]=o(d*t,u,p);function x(M){for(var m=0,h=1,P=e-1;h!==P&&g[h]<=M;++h)m+=t;--h;var O=(M-g[h])/(g[h+1]-g[h]),T=m+O*t,B=s(T,u,p);return B>=.001?a(M,T,u,p):B===0?T:l(M,m,m+t,u,p)}return function(M){return u===c&&p===b||M===0||M===1?M:o(x(M),c,b)}}return v}(),Ce=function(){var e={linear:function(){return function(i){return i}}},t={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var n,o=4;i<((n=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((n*3-2)/22-i,2)}},Elastic:function(i,n){i===void 0&&(i=1),n===void 0&&(n=.5);var o=I(i,1,10),s=I(n,.1,2);return function(l){return l===0||l===1?l:-o*Math.pow(2,10*(l-1))*Math.sin((l-1-s/(Math.PI*2)*Math.asin(1/o))*(Math.PI*2)/s)}}},r=["Quad","Cubic","Quart","Quint","Expo"];return r.forEach(function(i,n){t[i]=function(){return function(o){return Math.pow(o,n+2)}}}),Object.keys(t).forEach(function(i){var n=t[i];e["easeIn"+i]=n,e["easeOut"+i]=function(o,s){return function(l){return 1-n(o,s)(1-l)}},e["easeInOut"+i]=function(o,s){return function(l){return l<.5?n(o,s)(l*2)/2:1-n(o,s)(l*-2+2)/2}},e["easeOutIn"+i]=function(o,s){return function(l){return l<.5?(1-n(o,s)(1-l*2))/2:(n(o,s)(l*2-1)+1)/2}}}),e}();function ie(e,t){if(f.fnc(e))return e;var r=e.split("(")[0],i=Ce[r],n=Pe(e);switch(r){case"spring":return Ee(e,t);case"cubicBezier":return ee(Ze,n);case"steps":return ee(Qe,n);default:return ee(i,n)}}function Ie(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function K(e,t){for(var r=e.length,i=arguments.length>=2?arguments[1]:void 0,n=[],o=0;o<r;o++)if(o in e){var s=e[o];t.call(i,s,o,e)&&n.push(s)}return n}function _(e){return e.reduce(function(t,r){return t.concat(f.arr(r)?_(r):r)},[])}function ye(e){return f.arr(e)?e:(f.str(e)&&(e=Ie(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function ae(e,t){return e.some(function(r){return r===t})}function oe(e){var t={};for(var r in e)t[r]=e[r];return t}function te(e,t){var r=oe(e);for(var i in e)r[i]=t.hasOwnProperty(i)?t[i]:e[i];return r}function G(e,t){var r=oe(e);for(var i in t)r[i]=f.und(e[i])?t[i]:e[i];return r}function Ke(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function _e(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=e.replace(t,function(l,a,v,u){return a+a+v+v+u+u}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),n=parseInt(i[1],16),o=parseInt(i[2],16),s=parseInt(i[3],16);return"rgba("+n+","+o+","+s+",1)"}function Ge(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),r=parseInt(t[1],10)/360,i=parseInt(t[2],10)/100,n=parseInt(t[3],10)/100,o=t[4]||1;function s(p,b,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?p+(b-p)*6*g:g<1/2?b:g<2/3?p+(b-p)*(2/3-g)*6:p}var l,a,v;if(i==0)l=a=v=n;else{var u=n<.5?n*(1+i):n+i-n*i,c=2*n-u;l=s(c,u,r+1/3),a=s(c,u,r),v=s(c,u,r-1/3)}return"rgba("+l*255+","+a*255+","+v*255+","+o+")"}function Je(e){if(f.rgb(e))return Ke(e);if(f.hex(e))return _e(e);if(f.hsl(e))return Ge(e)}function D(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function Ye(e){if(U(e,"translate")||e==="perspective")return"px";if(U(e,"rotate")||U(e,"skew"))return"deg"}function re(e,t){return f.fnc(e)?e(t.target,t.id,t.total):e}function S(e,t){return e.getAttribute(t)}function se(e,t,r){var i=D(t);if(ae([r,"deg","rad","turn"],i))return t;var n=Z.CSS[t+r];if(!f.und(n))return n;var o=100,s=document.createElement(e.tagName),l=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;l.appendChild(s),s.style.position="absolute",s.style.width=o+r;var a=o/s.offsetWidth;l.removeChild(s);var v=a*parseFloat(t);return Z.CSS[t+r]=v,v}function Se(e,t,r){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),n=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return r?se(e,n,r):n}}function ue(e,t){if(f.dom(e)&&!f.inp(e)&&(!f.nil(S(e,t))||f.svg(e)&&e[t]))return"attribute";if(f.dom(e)&&ae($e,t))return"transform";if(f.dom(e)&&t!=="transform"&&Se(e,t))return"css";if(e[t]!=null)return"object"}function Ae(e){if(!!f.dom(e)){for(var t=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map,n;n=r.exec(t);)i.set(n[1],n[2]);return i}}function Xe(e,t,r,i){var n=U(t,"scale")?1:0+Ye(t),o=Ae(e).get(t)||n;return r&&(r.transforms.list.set(t,o),r.transforms.last=t),i?se(e,o,i):o}function le(e,t,r,i){switch(ue(e,t)){case"transform":return Xe(e,t,i,r);case"css":return Se(e,t,r);case"attribute":return S(e,t);default:return e[t]||0}}function ce(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var i=D(e)||0,n=parseFloat(t),o=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return n+o+i;case"-":return n-o+i;case"*":return n*o+i}}function De(e,t){if(f.col(e))return Je(e);if(/\s/g.test(e))return e;var r=D(e),i=r?e.substr(0,e.length-r.length):e;return t?i+t:i}function fe(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function et(e){return Math.PI*2*S(e,"r")}function tt(e){return S(e,"width")*2+S(e,"height")*2}function rt(e){return fe({x:S(e,"x1"),y:S(e,"y1")},{x:S(e,"x2"),y:S(e,"y2")})}function Oe(e){for(var t=e.points,r=0,i,n=0;n<t.numberOfItems;n++){var o=t.getItem(n);n>0&&(r+=fe(i,o)),i=o}return r}function nt(e){var t=e.points;return Oe(e)+fe(t.getItem(t.numberOfItems-1),t.getItem(0))}function Be(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return et(e);case"rect":return tt(e);case"line":return rt(e);case"polyline":return Oe(e);case"polygon":return nt(e)}}function it(e){var t=Be(e);return e.setAttribute("stroke-dasharray",t),t}function at(e){for(var t=e.parentNode;f.svg(t)&&f.svg(t.parentNode);)t=t.parentNode;return t}function Le(e,t){var r=t||{},i=r.el||at(e),n=i.getBoundingClientRect(),o=S(i,"viewBox"),s=n.width,l=n.height,a=r.viewBox||(o?o.split(" "):[0,0,s,l]);return{el:i,viewBox:a,x:a[0]/1,y:a[1]/1,w:s,h:l,vW:a[2],vH:a[3]}}function ot(e,t){var r=f.str(e)?Ie(e)[0]:e,i=t||100;return function(n){return{property:n,el:r,svg:Le(r),totalLength:Be(r)*(i/100)}}}function st(e,t,r){function i(u){u===void 0&&(u=0);var c=t+u>=1?t+u:0;return e.el.getPointAtLength(c)}var n=Le(e.el,e.svg),o=i(),s=i(-1),l=i(1),a=r?1:n.w/n.vW,v=r?1:n.h/n.vH;switch(e.property){case"x":return(o.x-n.x)*a;case"y":return(o.y-n.y)*v;case"angle":return Math.atan2(l.y-s.y,l.x-s.x)*180/Math.PI}}function be(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=De(f.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(r)?i.match(r).map(Number):[0],strings:f.str(e)||t?i.split(r):[]}}function de(e){var t=e?_(f.arr(e)?e.map(ye):ye(e)):[];return K(t,function(r,i,n){return n.indexOf(r)===i})}function Fe(e){var t=de(e);return t.map(function(r,i){return{target:r,id:i,total:t.length,transforms:{list:Ae(r)}}})}function ut(e,t){var r=oe(t);if(/^spring/.test(r.easing)&&(r.duration=Ee(r.easing)),f.arr(e)){var i=e.length,n=i===2&&!f.obj(e[0]);n?e={value:e}:f.fnc(t.duration)||(r.duration=t.duration/i)}var o=f.arr(e)?e:[e];return o.map(function(s,l){var a=f.obj(s)&&!f.pth(s)?s:{value:s};return f.und(a.delay)&&(a.delay=l?0:t.delay),f.und(a.endDelay)&&(a.endDelay=l===o.length-1?t.endDelay:0),a}).map(function(s){return G(s,r)})}function lt(e){for(var t=K(_(e.map(function(o){return Object.keys(o)})),function(o){return f.key(o)}).reduce(function(o,s){return o.indexOf(s)<0&&o.push(s),o},[]),r={},i=function(o){var s=t[o];r[s]=e.map(function(l){var a={};for(var v in l)f.key(v)?v==s&&(a.value=l[v]):a[v]=l[v];return a})},n=0;n<t.length;n++)i(n);return r}function ct(e,t){var r=[],i=t.keyframes;i&&(t=G(lt(i),t));for(var n in t)f.key(n)&&r.push({name:n,tweens:ut(t[n],e)});return r}function ft(e,t){var r={};for(var i in e){var n=re(e[i],t);f.arr(n)&&(n=n.map(function(o){return re(o,t)}),n.length===1&&(n=n[0])),r[i]=n}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function dt(e,t){var r;return e.tweens.map(function(i){var n=ft(i,t),o=n.value,s=f.arr(o)?o[1]:o,l=D(s),a=le(t.target,e.name,l,t),v=r?r.to.original:a,u=f.arr(o)?o[0]:v,c=D(u)||D(a),p=l||c;return f.und(s)&&(s=v),n.from=be(u,p),n.to=be(ce(s,u),p),n.start=r?r.end:0,n.end=n.start+n.delay+n.duration+n.endDelay,n.easing=ie(n.easing,n.duration),n.isPath=f.pth(o),n.isPathTargetInsideSVG=n.isPath&&f.svg(t.target),n.isColor=f.col(n.from.original),n.isColor&&(n.round=1),r=n,n})}var Ve={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,i,n){if(i.list.set(t,r),t===i.last||n){var o="";i.list.forEach(function(s,l){o+=l+"("+s+") "}),e.style.transform=o}}};function je(e,t){var r=Fe(e);r.forEach(function(i){for(var n in t){var o=re(t[n],i),s=i.target,l=D(o),a=le(s,n,l,i),v=l||D(a),u=ce(De(o,v),a),c=ue(s,n);Ve[c](s,n,u,i.transforms,!0)}})}function ht(e,t){var r=ue(e.target,t.name);if(r){var i=dt(t,e),n=i[i.length-1];return{type:r,property:t.name,animatable:e,tweens:i,duration:n.end,delay:i[0].delay,endDelay:n.endDelay}}}function vt(e,t){return K(_(e.map(function(r){return t.map(function(i){return ht(r,i)})})),function(r){return!f.und(r)})}function Re(e,t){var r=e.length,i=function(o){return o.timelineOffset?o.timelineOffset:0},n={};return n.duration=r?Math.max.apply(Math,e.map(function(o){return i(o)+o.duration})):t.duration,n.delay=r?Math.min.apply(Math,e.map(function(o){return i(o)+o.delay})):t.delay,n.endDelay=r?n.duration-Math.max.apply(Math,e.map(function(o){return i(o)+o.duration-o.endDelay})):t.endDelay,n}var we=0;function gt(e){var t=te(ke,e),r=te(ne,e),i=ct(r,e),n=Fe(e.targets),o=vt(n,i),s=Re(o,r),l=we;return we++,G(t,{id:l,children:[],animatables:n,animations:o,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}var C=[],ze=function(){var e;function t(){!e&&(!xe()||!w.suspendWhenDocumentHidden)&&C.length>0&&(e=requestAnimationFrame(r))}function r(n){for(var o=C.length,s=0;s<o;){var l=C[s];l.paused?(C.splice(s,1),o--):(l.tick(n),s++)}e=s>0?requestAnimationFrame(r):void 0}function i(){!w.suspendWhenDocumentHidden||(xe()?e=cancelAnimationFrame(e):(C.forEach(function(n){return n._onDocumentVisibility()}),ze()))}return typeof document<"u"&&document.addEventListener("visibilitychange",i),t}();function xe(){return!!document&&document.hidden}function w(e){e===void 0&&(e={});var t=0,r=0,i=0,n,o=0,s=null;function l(m){var h=window.Promise&&new Promise(function(P){return s=P});return m.finished=h,h}var a=gt(e);l(a);function v(){var m=a.direction;m!=="alternate"&&(a.direction=m!=="normal"?"normal":"reverse"),a.reversed=!a.reversed,n.forEach(function(h){return h.reversed=a.reversed})}function u(m){return a.reversed?a.duration-m:m}function c(){t=0,r=u(a.currentTime)*(1/w.speed)}function p(m,h){h&&h.seek(m-h.timelineOffset)}function b(m){if(a.reversePlayback)for(var P=o;P--;)p(m,n[P]);else for(var h=0;h<o;h++)p(m,n[h])}function g(m){for(var h=0,P=a.animations,O=P.length;h<O;){var T=P[h],B=T.animatable,R=T.tweens,L=R.length-1,k=R[L];L&&(k=K(R,function(qe){return m<qe.end})[0]||k);for(var F=I(m-k.start-k.delay,0,k.duration)/k.duration,W=isNaN(F)?1:k.easing(F),E=k.to.strings,J=k.round,Y=[],Ne=k.to.numbers.length,V=void 0,z=0;z<Ne;z++){var H=void 0,he=k.to.numbers[z],ve=k.from.numbers[z]||0;k.isPath?H=st(k.value,W*he,k.isPathTargetInsideSVG):H=ve+W*(he-ve),J&&(k.isColor&&z>2||(H=Math.round(H*J)/J)),Y.push(H)}var ge=E.length;if(!ge)V=Y[0];else{V=E[0];for(var N=0;N<ge;N++){E[N];var me=E[N+1],X=Y[N];isNaN(X)||(me?V+=X+me:V+=X+" ")}}Ve[T.type](B.target,T.property,V,B.transforms),T.currentValue=V,h++}}function d(m){a[m]&&!a.passThrough&&a[m](a)}function x(){a.remaining&&a.remaining!==!0&&a.remaining--}function M(m){var h=a.duration,P=a.delay,O=h-a.endDelay,T=u(m);a.progress=I(T/h*100,0,100),a.reversePlayback=T<a.currentTime,n&&b(T),!a.began&&a.currentTime>0&&(a.began=!0,d("begin")),!a.loopBegan&&a.currentTime>0&&(a.loopBegan=!0,d("loopBegin")),T<=P&&a.currentTime!==0&&g(0),(T>=O&&a.currentTime!==h||!h)&&g(h),T>P&&T<O?(a.changeBegan||(a.changeBegan=!0,a.changeCompleted=!1,d("changeBegin")),d("change"),g(T)):a.changeBegan&&(a.changeCompleted=!0,a.changeBegan=!1,d("changeComplete")),a.currentTime=I(T,0,h),a.began&&d("update"),m>=h&&(r=0,x(),a.remaining?(t=i,d("loopComplete"),a.loopBegan=!1,a.direction==="alternate"&&v()):(a.paused=!0,a.completed||(a.completed=!0,d("loopComplete"),d("complete"),!a.passThrough&&"Promise"in window&&(s(),l(a)))))}return a.reset=function(){var m=a.direction;a.passThrough=!1,a.currentTime=0,a.progress=0,a.paused=!0,a.began=!1,a.loopBegan=!1,a.changeBegan=!1,a.completed=!1,a.changeCompleted=!1,a.reversePlayback=!1,a.reversed=m==="reverse",a.remaining=a.loop,n=a.children,o=n.length;for(var h=o;h--;)a.children[h].reset();(a.reversed&&a.loop!==!0||m==="alternate"&&a.loop===1)&&a.remaining++,g(a.reversed?a.duration:0)},a._onDocumentVisibility=c,a.set=function(m,h){return je(m,h),a},a.tick=function(m){i=m,t||(t=i),M((i+(r-t))*w.speed)},a.seek=function(m){M(u(m))},a.pause=function(){a.paused=!0,c()},a.play=function(){!a.paused||(a.completed&&a.reset(),a.paused=!1,C.push(a),c(),ze())},a.reverse=function(){v(),a.completed=!a.reversed,c()},a.restart=function(){a.reset(),a.play()},a.remove=function(m){var h=de(m);He(h,a)},a.reset(),a.autoplay&&a.play(),a}function Te(e,t){for(var r=t.length;r--;)ae(e,t[r].animatable.target)&&t.splice(r,1)}function He(e,t){var r=t.animations,i=t.children;Te(e,r);for(var n=i.length;n--;){var o=i[n],s=o.animations;Te(e,s),!s.length&&!o.children.length&&i.splice(n,1)}!r.length&&!i.length&&t.pause()}function mt(e){for(var t=de(e),r=C.length;r--;){var i=C[r];He(t,i)}}function pt(e,t){t===void 0&&(t={});var r=t.direction||"normal",i=t.easing?ie(t.easing):null,n=t.grid,o=t.axis,s=t.from||0,l=s==="first",a=s==="center",v=s==="last",u=f.arr(e),c=parseFloat(u?e[0]:e),p=u?parseFloat(e[1]):0,b=D(u?e[1]:e)||0,g=t.start||0+(u?c:0),d=[],x=0;return function(M,m,h){if(l&&(s=0),a&&(s=(h-1)/2),v&&(s=h-1),!d.length){for(var P=0;P<h;P++){if(!n)d.push(Math.abs(s-P));else{var O=a?(n[0]-1)/2:s%n[0],T=a?(n[1]-1)/2:Math.floor(s/n[0]),B=P%n[0],R=Math.floor(P/n[0]),L=O-B,k=T-R,F=Math.sqrt(L*L+k*k);o==="x"&&(F=-L),o==="y"&&(F=-k),d.push(F)}x=Math.max.apply(Math,d)}i&&(d=d.map(function(E){return i(E/x)*x})),r==="reverse"&&(d=d.map(function(E){return o?E<0?E*-1:-E:Math.abs(x-E)}))}var W=u?(p-c)/x:c;return g+W*(Math.round(d[m]*100)/100)+b}}function yt(e){e===void 0&&(e={});var t=w(e);return t.duration=0,t.add=function(r,i){var n=C.indexOf(t),o=t.children;n>-1&&C.splice(n,1);function s(p){p.passThrough=!0}for(var l=0;l<o.length;l++)s(o[l]);var a=G(r,te(ne,e));a.targets=a.targets||e.targets;var v=t.duration;a.autoplay=!1,a.direction=t.direction,a.timelineOffset=f.und(i)?v:ce(i,v),s(t),t.seek(a.timelineOffset);var u=w(a);s(u),o.push(u);var c=Re(o,e);return t.delay=c.delay,t.endDelay=c.endDelay,t.duration=c.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}w.version="3.2.1";w.speed=1;w.suspendWhenDocumentHidden=!0;w.running=C;w.remove=mt;w.get=le;w.set=je;w.convertPx=se;w.path=ot;w.setDashoffset=it;w.stagger=pt;w.timeline=yt;w.easing=ie;w.penner=Ce;w.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var Q=200;class Me{constructor(t,r,i,n){this.pos=new y(t,r),this.num=i,this.elem=document.createElement("span"),this.elem.className="cell",this.createdAt=0;let o=document.createElement("p");o.innerText=i,this.elem.appendChild(o),this.elem.style.left=$(t),this.elem.style.top=$(r),this.elem.style.backgroundColor=pe(i),this.board=n,this.positions=n.positions,this.board.elem.appendChild(this.elem)}setBackground(t){let r=pe(t);this.elem.style.backgroundColor=r,r=r.slice(1);var i=parseInt(r.substr(0,2),16),n=parseInt(r.substr(2,2),16),o=parseInt(r.substr(4,2),16);let[s,l,a]=We(i,n,o);a>=.5&&l<.5&&(this.elem.style.color="black")}refresh(t){this.num=t,this.setBackground(t),this.elem.childNodes[0].innerText=t;let r=w.timeline({duration:Q,easing:"easeInOutQuad"});r.add({targets:this.elem,scale:1.2}),r.add({targets:this.elem,scale:1,duration:Q/2})}move(t){this.elem.style.backgroundColor="#ace";let r=new y(0,0),i=new y(this.pos.x,this.pos.y);switch(t){case"right":r.x=1;break;case"left":r.x=-1;break;case"up":r.y=-1;break;case"down":r.y=1;break}for(;this.board.empty(i.add(r));)i=i.add(r);if(this.pos.x!=i.x||this.pos.y!=i.y){let n=this.board.getTile(i.add(r));if(n!=null&&n.createdAt!=this.board.moveCount){n.elem.style.transform="scale(1.2)",n.destroy(),this.destroy();let o=i.add(r);this.board.addTileResult(o,n.num+this.num),alert("Merged")}this.board.swapTile(this.pos,i),console.log("Swapping ",this.pos," to ",i),this.setPos(i)}}destroy(){this.board.elem.removeChild(this.elem)}setPos(t){if(t.x===this.pos.x&&t.y===this.pos.y)return;let r=this.board;r.runningAnimations++,this.pos=new y(t.x,t.y),w({targets:this.elem,left:$(t.x),top:$(t.y),easing:"easeInOutQuad",duration:Q,complete:function(){r.runningAnimations--,r.runningAnimations==0&&r.addRandomTile()}}),setTimeout(()=>{this.elem.style.transform="scale(1)"},Q)}}class bt{constructor(t,r){this.positions=r,this.runningAnimations=0,this.runner=Promise.resolve(),this.scoreElem=document.querySelector("#score"),this.topScoreElem=document.querySelector("#topscore"),this.tiles=[[null,null,null,null],[null,null,null,null],[null,null,null,null],[null,null,null,null]],this.elem=t,this.score=0,this.topscore=localStorage.getItem("topscore")||0,this.topscore!=0&&(this.topScoreElem.innerText=this.topscore),this.moveCount=0,this.emptyPositions=[],this.locked=!1;for(let i=0;i<j;i++)for(let n=0;n<j;n++){const o=this.positions[i][n];o!=0&&(this.tiles[i][n]=new Me(n,i,o,this))}this.addRandomTile()}move(t){if(this.locked)return;if(this.refreshEmptyCells(),this.emptyPositions.length==0){let a=!1,v,u;for(let c of[new y(1,0),new y(0,1)]){let p=c.reverse(),b=new y(0,0);for(;q(b);){let g=b;for(;q(g);)v=this.getTile(g),g=g.add(p),u=this.getTile(g),u&&u.num==v.num&&(a=!0);b=b.add(c)}}a||this.showGameOver()}let r=0,i=0,n,o,s=new y(0,1);switch(t){case"left":o=new y(-1,0);break;case"right":o=new y(1,0),r=3;break;case"up":o=new y(0,-1),s=new y(1,0);break;case"down":o=new y(0,1),s=new y(1,0),i=3;break}let l=new y(r,i);for(;q(l);){n=l;let a=n,v=0;for(;q(n);){let u=this.getTile(n),c=this.getTile(a);if(n=n.sub(o),u==null||v==0){v++;continue}c!==null?c.num==u.num?(this.updateScore(u.num*2),this.clearTile(u.pos),u.refresh(u.num*2),u.setPos(a),c.destroy(),this.setTile(a,u),a=a.sub(o)):(a=a.sub(o),this.clearTile(u.pos),u.setPos(a),this.setTile(a,u)):(this.clearTile(u.pos),u.setPos(a),this.setTile(a,u))}l=l.add(s)}}updateScore(t){t==1024&&(this.scoreElem.style.color="yellow",document.querySelector("#win-span").style.color="yellow",document.querySelector("#win-span").style.fontWeight="bold"),this.score+=t,this.score>this.topscore&&(this.topscore=this.score,localStorage.setItem("topscore",this.topscore)),this.scoreElem.innerText=this.score,this.topScoreElem.innerText=this.topscore}refreshEmptyCells(){this.emptyPositions=[],this.tiles.forEach((t,r)=>{t.forEach((i,n)=>{i||this.emptyPositions.push(new y(n,r))})})}addRandomTile(){if(this.refreshEmptyCells(),this.emptyPositions.length===0)return console.log("empty"),0;let t=[1,2],r=this.emptyPositions[Math.floor(Math.random()*this.emptyPositions.length)],i=t[Math.floor(Math.random()*t.length)],n=new Me(r.x,r.y,i,this);this.setTile(r,n)}getTile(t){return q(t)?this.tiles[t.y][t.x]:null}setTile(t,r){this.tiles[t.y][t.x]=r}clearTile(t){this.tiles[t.y][t.x]=null}restart(){for(let t=0;t<j;t++)for(let r=0;r<j;r++){let i=this.getTile(new y(r,t));i!=null&&i.destroy()}this.score=0,this.updateScore(0),this.locked=!1,this.moveCount=0,this.positions=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],this.tiles=[[null,null,null,null],[null,null,null,null],[null,null,null,null],[null,null,null,null]],document.getElementById("gameover-modal").style.display="none",this.addRandomTile()}clearGameOver(){this.locked=!1,document.getElementById("gameover-modal").style.display="none"}showGameOver(){this.locked=!0,document.getElementById("gameover-modal").style.display="flex"}}function wt(){let e=[];for(let t=0;t<4;t++){e.push([]);for(let r=0;r<4;r++)e[t][r]=Math.random()>.2?1:0,e[t][r]=0}return e}function xt(){let e=document.createElement("table");for(let t=0;t<4;t++){let r=document.createElement("tr");for(let i=0;i<4;i++){let n=document.createElement("td");r.appendChild(n)}e.appendChild(r)}document.getElementById("board").appendChild(e)}xt();let Tt=wt(),A=new bt(document.getElementById("board"),Tt);window.board=A;window.Vector=y;document.addEventListener("keydown",e=>{A.runner=A.runner.then(()=>{if(A.runningAnimations==0)switch(e.key){case"ArrowDown":A.move("down");break;case"ArrowLeft":A.move("left");break;case"ArrowUp":A.move("up");break;case"ArrowRight":A.move("right");break}})});document.querySelector("#restart").onclick=()=>{A.restart()};
